<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1351px" preserveAspectRatio="none" style="width:3293px;height:1351px;" version="1.1" viewBox="0 0 3293 1351" width="3293px" zoomAndPan="magnify"><defs><filter height="300%" id="f18yyocwl26979" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="269" x2="269" y1="39.6094" y2="1309.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="792" x2="792" y1="39.6094" y2="1309.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1279" x2="1279" y1="39.6094" y2="1309.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1587" x2="1587" y1="39.6094" y2="1309.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1834" x2="1834" y1="39.6094" y2="1309.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2106" x2="2106" y1="39.6094" y2="1309.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2284" x2="2284" y1="39.6094" y2="1309.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2459" x2="2459" y1="39.6094" y2="1309.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2642" x2="2642" y1="39.6094" y2="1309.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2851" x2="2851" y1="39.6094" y2="1309.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3052" x2="3052" y1="39.6094" y2="1309.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3204" x2="3204" y1="39.6094" y2="1309.7813"/><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="518" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="504" x="15" y="24.5332">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="518" x="8" y="1308.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="504" x="15" y="1330.3145">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="501" x="540" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="487" x="547" y="24.5332">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="501" x="540" y="1308.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="487" x="547" y="1330.3145">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="445" x="1055" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="431" x="1062" y="24.5332">[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="445" x="1055" y="1308.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="431" x="1062" y="1330.3145">[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="1514" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="1521" y="24.5332">[repo].[Index_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="1514" y="1308.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="1521" y="1330.3145">[repo].[Index_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="325" x="1670" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="311" x="1677" y="24.5332">[repo].[IndexColumn_virtual_referenced_setpoint]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="325" x="1670" y="1308.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="311" x="1677" y="1330.3145">[repo].[IndexColumn_virtual_referenced_setpoint]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="190" x="2009" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="176" x="2016" y="24.5332">[repo].[IndexColumn_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="190" x="2009" y="1308.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="176" x="2016" y="1330.3145">[repo].[IndexColumn_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="2213" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="2220" y="24.5332">[repo].[Index_gross]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="2213" y="1308.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="2220" y="1330.3145">[repo].[Index_gross]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="183" x="2366" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="169" x="2373" y="24.5332">[repo].[Index_IndexPattern]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="183" x="2366" y="1308.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="169" x="2373" y="1330.3145">[repo].[Index_IndexPattern]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="2563" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141" x="2570" y="24.5332">[repo].[Index_Settings]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="2563" y="1308.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141" x="2570" y="1330.3145">[repo].[Index_Settings]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="235" x="2732" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="221" x="2739" y="24.5332">[repo].[Index_IndexSemanticGroup]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="235" x="2732" y="1308.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="221" x="2739" y="1330.3145">[repo].[Index_IndexSemanticGroup]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="2981" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="2988" y="24.5332">[repo].[RepoObject]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="2981" y="1308.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="2988" y="1330.3145">[repo].[RepoObject]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="3133" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="3140" y="24.5332">[repo].[Index_union]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="3133" y="1308.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="3140" y="1330.3145">[repo].[Index_union]</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="3278" x="3" y="70.7852"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3281" y1="70.7852" y2="70.7852"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3281" y1="73.7852" y2="73.7852"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="250" x="1517" y="59.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="232" x="1523" y="77.1045">[repo].[usp_index_inheritance] - start</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="3278" x="3" y="115.1367"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3281" y1="115.1367" y2="115.1367"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3281" y1="118.1367" y2="118.1367"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="653" x="1315.5" y="103.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="635" x="1321.5" y="121.4561">[repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - start</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="251" x2="261" y1="160.6641" y2="170.6641"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="251" x2="261" y1="170.6641" y2="160.6641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="90" x2="256" y1="165.6641" y2="165.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="97" y="160.8076">truncate persistence target</text><path d="M274,143.3125 L274,169.3125 L302,169.3125 L302,153.3125 L292,143.3125 L274,143.3125 " fill="#FBFB77" filter="url(#f18yyocwl26979)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M292,143.3125 L292,153.3125 L302,153.3125 L292,143.3125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="280" y="161.8076">0</text><polygon fill="#A80036" points="280,199.0156,270,203.0156,280,207.0156,276,203.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="274" x2="791.5" y1="203.0156" y2="203.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="286" y="198.1592">insert all</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="29" x="797" y="183.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="801" y="201.1592">147</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="3278" x="3" y="234.1914"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3281" y1="234.1914" y2="234.1914"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3281" y1="237.1914" y2="237.1914"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="650" x="1317" y="223.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="632" x="1323" y="240.5107">[repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - end</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1569" x2="1579" y1="276.7188" y2="286.7188"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1569" x2="1579" y1="286.7188" y2="276.7188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1279.5" x2="1574" y1="281.7188" y2="281.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="1286.5" y="276.8623">DELETE (referenced index is missing)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="1592" y="262.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1596" y="279.8623">2</text><polygon fill="#A80036" points="1575,342.7734,1585,346.7734,1575,350.7734,1579,346.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1279.5" x2="1581" y1="346.7734" y2="346.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="1286.5" y="309.2139">INSERT (Index which should be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="1286.5" y="325.5654">inherited in referenced, but not yet</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="1286.5" y="341.917">referenced)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="1592" y="311.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1596" y="328.5654">2</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="2088" x2="2098" y1="388.4766" y2="398.4766"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="2088" x2="2098" y1="398.4766" y2="388.4766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1834.5" x2="2093" y1="393.4766" y2="393.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="1841.5" y="372.2686">DELETE (where entries are missing in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="1841.5" y="388.6201">setpoint)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="2111" y="365.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2115" y="383.4443">0</text><polygon fill="#A80036" points="2094,421.8281,2104,425.8281,2094,429.8281,2098,425.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1834.5" x2="2100" y1="425.8281" y2="425.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="1841.5" y="420.9717">INSERT missing</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="2111" y="406.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2115" y="423.9717">4</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1593" x2="1603" y1="455.1797" y2="465.1797"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1593" x2="1603" y1="465.1797" y2="455.1797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1599" x2="2283.5" y1="460.1797" y2="460.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="1604" y="455.3232">DELETE duplicates by pattern</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="2289" y="440.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2293" y="458.3232">7</text><ellipse cx="2105.5" cy="557.1875" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="2088.5,553.9375,2098.5,557.9375,2088.5,561.9375,2092.5,557.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1834.5" x2="2094.5" y1="557.9375" y2="557.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="1841.5" y="487.6748">SET [RepoObjectColumn_guid] = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="1841.5" y="504.0264">setpoint].[referencing_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="1841.5" y="520.3779">RepoObjectColumn_guid], [is_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="1841.5" y="536.7295">descending_key] = [setpoint].[is_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="1841.5" y="553.0811">descending_key]</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="2111" y="505.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2115" y="523.3779">4</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="3278" x="3" y="587.1133"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3281" y1="587.1133" y2="587.1133"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3281" y1="590.1133" y2="590.1133"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="229" x="1527.5" y="575.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="211" x="1533.5" y="593.4326">[repo].[usp_Index_Settings] - start</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="2624.5" x2="2634.5" y1="629.6406" y2="639.6406"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="2624.5" x2="2634.5" y1="639.6406" y2="629.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2459.5" x2="2629.5" y1="634.6406" y2="634.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="2466.5" y="629.7842">DELETE</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="2647" y="615.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2651" y="632.7842">9</text><polygon fill="#A80036" points="2630.5,664.9922,2640.5,668.9922,2630.5,672.9922,2634.5,668.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2459.5" x2="2636.5" y1="668.9922" y2="668.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="2466.5" y="664.1357">INSERT</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="2647" y="649.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2651" y="667.1357">2</text><ellipse cx="2642" cy="702.5938" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="2625,699.3438,2635,703.3438,2625,707.3438,2629,703.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2459.5" x2="2631" y1="703.3438" y2="703.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="2466.5" y="698.4873">UPDATE</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="2647" y="683.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2651" y="701.4873">4</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="3278" x="3" y="734.5195"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3281" y1="734.5195" y2="734.5195"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3281" y1="737.5195" y2="737.5195"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="226" x="1529" y="723.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="208" x="1535" y="740.8389">[repo].[usp_Index_Settings] - end</text><ellipse cx="2851" cy="808.6484" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2851.5" x2="2893.5" y1="796.3984" y2="796.3984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2893.5" x2="2893.5" y1="796.3984" y2="809.3984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2856.5" x2="2893.5" y1="809.3984" y2="809.3984"/><polygon fill="#A80036" points="2866.5,805.3984,2856.5,809.3984,2866.5,813.3984,2862.5,809.3984" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="2858.5" y="775.1904">SET [IndexSemanticGroup] = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="2858.5" y="791.542">TSource].[IndexSemanticGroup]</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="3055" y="775.3711"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="3059" y="792.8662">2</text><ellipse cx="1586.5" cy="888.0547" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="1603.5,884.8047,1593.5,888.8047,1603.5,892.8047,1599.5,888.8047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1601.5" x2="3051" y1="888.8047" y2="888.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="1604" y="834.8936">SET [is_index_primary_key] = 1, [is_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="1604" y="851.2451">index_unique] = 1 (propagate PK from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="1604" y="867.5967">[repo].[RepoObject] into [repo].[Index</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="1604" y="883.9482">_virtual])</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="3057" y="844.9258"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="3061" y="862.4209">0</text><ellipse cx="1586.5" cy="951.1094" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="1603.5,947.8594,1593.5,951.8594,1603.5,955.8594,1599.5,951.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1601.5" x2="3203.5" y1="951.8594" y2="951.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="1604" y="914.2998">SET [is_index_primary_key] = 1 (</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="1604" y="930.6514">WHERE rop.has_history = 1 and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="1604" y="947.0029">source-index is PK)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="3209" y="916.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="3213" y="933.6514">0</text><ellipse cx="2642" cy="997.8125" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="2659,994.5625,2649,998.5625,2659,1002.5625,2655,998.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2657" x2="3203.5" y1="998.5625" y2="998.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="2659.5" y="977.3545">SET [is_create_constraint] = 1 (</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="2659.5" y="993.7061">WHERE persistence has_history = 1)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="3209" y="971.0352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="3213" y="988.5303">0</text><ellipse cx="1586.5" cy="1057.5156" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1587" x2="1629" y1="1045.2656" y2="1045.2656"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1629" x2="1629" y1="1045.2656" y2="1058.2656"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1592" x2="1629" y1="1058.2656" y2="1058.2656"/><polygon fill="#A80036" points="1602,1054.2656,1592,1058.2656,1602,1062.2656,1598,1058.2656" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="1594" y="1024.0576">SET [is_index_unique] = 1 (each PK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="1594" y="1040.4092">is also [is_index_unique])</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="1821" y="1024.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1825" y="1041.7334">0</text><ellipse cx="3051.5" cy="1136.9219" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="3034.5,1133.6719,3044.5,1137.6719,3034.5,1141.6719,3038.5,1137.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2284.5" x2="3040.5" y1="1137.6719" y2="1137.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="2291.5" y="1083.7607">SET [pk_index_guid] = [pk].[index_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="2291.5" y="1100.1123">guid] (WHERE [is_index_primary_key</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="2291.5" y="1116.4639">] = 1 and [RowNumber_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="2291.5" y="1132.8154">PkPerParentObject] = 1)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="3057" y="1093.793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="3061" y="1111.2881">0</text><ellipse cx="1586.5" cy="1199.9766" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="1603.5,1196.7266,1593.5,1200.7266,1603.5,1204.7266,1599.5,1200.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1601.5" x2="3051" y1="1200.7266" y2="1200.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="1604" y="1163.167">SET [is_index_primary_key] = 0 (</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="1604" y="1179.5186">where it is not a PK in [repo].[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="1604" y="1195.8701">RepoObject])</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="3057" y="1165.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="3061" y="1182.5186">0</text><ellipse cx="1586.5" cy="1246.6797" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="1603.5,1243.4297,1593.5,1247.4297,1603.5,1251.4297,1599.5,1247.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1601.5" x2="3051" y1="1247.4297" y2="1247.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="1604" y="1226.2217">SET [iv].[index_name] WHERE [iv].[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="1604" y="1242.5732">index_name] IS NULL</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="3057" y="1219.9023"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="3061" y="1237.3975">2</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="3278" x="3" y="1276.6055"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3281" y1="1276.6055" y2="1276.6055"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3281" y1="1279.6055" y2="1279.6055"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="247" x="1518.5" y="1265.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="229" x="1524.5" y="1282.9248">[repo].[usp_index_inheritance] - end</text><!--MD5=[fe4dfc6fa004560cb50735b65a29687e]
@startuml
skinparam maxmessagesize 220
== [repo].[usp_index_inheritance] - start ==


== [repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - start ==

?->x "[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]" : truncate persistence target
rnote right:0
"[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing]" -> "[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]" : insert all
rnote right:147

== [repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - end ==

"[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]" ->x "[repo].[Index_virtual]" : DELETE (referenced index is missing)
rnote right:2
"[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]" -> "[repo].[Index_virtual]" : INSERT (Index which should be inherited in referenced, but not yet referenced)
rnote right:2
"[repo].[IndexColumn_virtual_referenced_setpoint]" ->x "[repo].[IndexColumn_virtual]" : DELETE (where entries are missing in setpoint)
rnote right:0
"[repo].[IndexColumn_virtual_referenced_setpoint]" -> "[repo].[IndexColumn_virtual]" : INSERT missing
rnote right:4
"[repo].[Index_gross]" ->x "[repo].[Index_virtual]" : DELETE duplicates by pattern
rnote right:7
"[repo].[IndexColumn_virtual_referenced_setpoint]" ->O "[repo].[IndexColumn_virtual]" : SET [RepoObjectColumn_guid] = [setpoint].[referencing_RepoObjectColumn_guid], [is_descending_key] = [setpoint].[is_descending_key]
rnote right:4

== [repo].[usp_Index_Settings] - start ==

"[repo].[Index_IndexPattern]" ->x "[repo].[Index_Settings]" : DELETE
rnote right:9
"[repo].[Index_IndexPattern]" -> "[repo].[Index_Settings]" : INSERT
rnote right:2
"[repo].[Index_IndexPattern]" ->O "[repo].[Index_Settings]" : UPDATE
rnote right:4

== [repo].[usp_Index_Settings] - end ==

"[repo].[Index_IndexSemanticGroup]" ->O "[repo].[Index_IndexSemanticGroup]" : SET [IndexSemanticGroup] = [TSource].[IndexSemanticGroup]
rnote right:2
"[repo].[RepoObject]" ->O "[repo].[Index_virtual]" : SET [is_index_primary_key] = 1, [is_index_unique] = 1 (propagate PK from [repo].[RepoObject] into [repo].[Index_virtual])
rnote right:0
"[repo].[Index_union]" ->O "[repo].[Index_virtual]" : SET [is_index_primary_key] = 1 (WHERE rop.has_history = 1 and source-index is PK)
rnote right:0
"[repo].[Index_union]" ->O "[repo].[Index_Settings]" : SET [is_create_constraint] = 1 (WHERE persistence has_history = 1)
rnote right:0
"[repo].[Index_virtual]" ->O "[repo].[Index_virtual]" : SET [is_index_unique] = 1 (each PK is also [is_index_unique])
rnote right:0
"[repo].[Index_gross]" ->O "[repo].[RepoObject]" : SET [pk_index_guid] = [pk].[index_guid] (WHERE [is_index_primary_key] = 1 and [RowNumber_PkPerParentObject] = 1)
rnote right:0
"[repo].[RepoObject]" ->O "[repo].[Index_virtual]" : SET [is_index_primary_key] = 0 (where it is not a PK in [repo].[RepoObject])
rnote right:0
"[repo].[RepoObject]" ->O "[repo].[Index_virtual]" : SET [iv].[index_name] WHERE [iv].[index_name] IS NULL
rnote right:2

== [repo].[usp_index_inheritance] - end ==
@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(APACHE source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_281-b09
Operating System: Windows 10
Default Encoding: Cp1252
Language: de
Country: DE
--></g></svg>