<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1363px" preserveAspectRatio="none" style="width:3333px;height:1363px;" version="1.1" viewBox="0 0 3333 1363" width="3333px" zoomAndPan="magnify"><defs><filter height="300%" id="f18yyocwl26979" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="272" x2="272" y1="39.6094" y2="1322.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="801" x2="801" y1="39.6094" y2="1322.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1294" x2="1294" y1="39.6094" y2="1322.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1605" x2="1605" y1="39.6094" y2="1322.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1855" x2="1855" y1="39.6094" y2="1322.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2129" x2="2129" y1="39.6094" y2="1322.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2310" x2="2310" y1="39.6094" y2="1322.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2488" x2="2488" y1="39.6094" y2="1322.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2674" x2="2674" y1="39.6094" y2="1322.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2887" x2="2887" y1="39.6094" y2="1322.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3090" x2="3090" y1="39.6094" y2="1322.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3243" x2="3243" y1="39.6094" y2="1322.1328"/><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="524" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="510" x="15" y="24.5332">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="524" x="8" y="1321.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="510" x="15" y="1342.666">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="507" x="546" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="493" x="553" y="24.5332">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="507" x="546" y="1321.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="493" x="553" y="1342.666">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="450" x="1067" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="436" x="1074" y="24.5332">[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="450" x="1067" y="1321.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="436" x="1074" y="1342.666">[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="1531" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="1538" y="24.5332">[repo].[Index_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="1531" y="1321.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="1538" y="1342.666">[repo].[Index_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="328" x="1689" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="314" x="1696" y="24.5332">[repo].[IndexColumn_virtual_referenced_setpoint]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="328" x="1689" y="1321.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="314" x="1696" y="1342.666">[repo].[IndexColumn_virtual_referenced_setpoint]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="2031" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="2038" y="24.5332">[repo].[IndexColumn_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="2031" y="1321.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="2038" y="1342.666">[repo].[IndexColumn_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="2238" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="2245" y="24.5332">[repo].[Index_gross]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="2238" y="1321.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="2245" y="1342.666">[repo].[Index_gross]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="187" x="2393" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="2400" y="24.5332">[repo].[Index_IndexPattern]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="187" x="2393" y="1321.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="2400" y="1342.666">[repo].[Index_IndexPattern]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="2594" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="2601" y="24.5332">[repo].[Index_Settings]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="2594" y="1321.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="2601" y="1342.666">[repo].[Index_Settings]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="2765" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="226" x="2772" y="24.5332">[repo].[Index_IndexSemanticGroup]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="2765" y="1321.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="226" x="2772" y="1342.666">[repo].[Index_IndexSemanticGroup]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="3019" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="3026" y="24.5332">[repo].[RepoObject]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="3019" y="1321.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="3026" y="1342.666">[repo].[RepoObject]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="3171" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="3178" y="24.5332">[repo].[Index_union]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="3171" y="1321.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="3178" y="1342.666">[repo].[Index_union]</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="3318" x="3" y="70.7852"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3321" y1="70.7852" y2="70.7852"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3321" y1="73.7852" y2="73.7852"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="245" x="1539.5" y="59.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227" x="1545.5" y="77.1045">[repo].[usp_index_inheritance] - start</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="3318" x="3" y="115.1367"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3321" y1="115.1367" y2="115.1367"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3321" y1="118.1367" y2="118.1367"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="643" x="1340.5" y="103.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="625" x="1346.5" y="121.4561">[repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - start</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="254" x2="264" y1="160.6641" y2="170.6641"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="254" x2="264" y1="170.6641" y2="160.6641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="93" x2="259" y1="165.6641" y2="165.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="100" y="160.8076">truncate persistence target</text><path d="M277,143.3125 L277,169.3125 L305,169.3125 L305,153.3125 L295,143.3125 L277,143.3125 " fill="#FBFB77" filter="url(#f18yyocwl26979)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M295,143.3125 L295,153.3125 L305,153.3125 L295,143.3125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="283" y="161.8076">0</text><polygon fill="#A80036" points="283,199.0156,273,203.0156,283,207.0156,279,203.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="277" x2="800.5" y1="203.0156" y2="203.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="289" y="198.1592">insert all</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="29" x="806" y="183.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="810" y="201.1592">147</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="3318" x="3" y="234.1914"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3321" y1="234.1914" y2="234.1914"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3321" y1="237.1914" y2="237.1914"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="639" x="1342.5" y="223.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="621" x="1348.5" y="240.5107">[repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - end</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1587" x2="1597" y1="291.0703" y2="301.0703"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1587" x2="1597" y1="301.0703" y2="291.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294" x2="1592" y1="296.0703" y2="296.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="1301" y="274.8623">DELETE (referenced index is missing</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="1301" y="291.2139">)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="1610" y="268.543"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1614" y="286.0381">2</text><polygon fill="#A80036" points="1593,355.125,1603,359.125,1593,363.125,1597,359.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294" x2="1599" y1="359.125" y2="359.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="1301" y="321.5654">INSERT (Index which should be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="1301" y="337.917">inherited in referenced, but not yet</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="1301" y="354.2686">referenced)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="1610" y="323.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1614" y="340.917">2</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="2111.5" x2="2121.5" y1="400.8281" y2="410.8281"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="2111.5" x2="2121.5" y1="410.8281" y2="400.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1855" x2="2116.5" y1="405.8281" y2="405.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="1862" y="384.6201">DELETE (where entries are missing</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="1862" y="400.9717">in setpoint)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="2134" y="378.3008"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2138" y="395.7959">0</text><polygon fill="#A80036" points="2117.5,434.1797,2127.5,438.1797,2117.5,442.1797,2121.5,438.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1855" x2="2123.5" y1="438.1797" y2="438.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="1862" y="433.3232">INSERT missing</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="2134" y="418.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2138" y="436.3232">4</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1611" x2="1621" y1="467.5313" y2="477.5313"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1611" x2="1621" y1="477.5313" y2="467.5313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1617" x2="2309.5" y1="472.5313" y2="472.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="1622" y="467.6748">DELETE duplicates by pattern</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="2315" y="453.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2319" y="470.6748">7</text><ellipse cx="2129" cy="569.5391" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="2112,566.2891,2122,570.2891,2112,574.2891,2116,570.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1855" x2="2118" y1="570.2891" y2="570.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="1862" y="500.0264">SET [RepoObjectColumn_guid] = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="1862" y="516.3779">setpoint].[referencing_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="1862" y="532.7295">RepoObjectColumn_guid], [is_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="1862" y="549.0811">descending_key] = [setpoint].[is_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="1862" y="565.4326">descending_key]</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="2134" y="518.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2138" y="535.7295">4</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="3318" x="3" y="599.4648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3321" y1="599.4648" y2="599.4648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3321" y1="602.4648" y2="602.4648"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="227" x="1548.5" y="588.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="209" x="1554.5" y="605.7842">[repo].[usp_Index_Settings] - start</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="2656.5" x2="2666.5" y1="641.9922" y2="651.9922"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="2656.5" x2="2666.5" y1="651.9922" y2="641.9922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2488.5" x2="2661.5" y1="646.9922" y2="646.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="2495.5" y="642.1357">DELETE</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="2679" y="627.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2683" y="645.1357">9</text><polygon fill="#A80036" points="2662.5,677.3438,2672.5,681.3438,2662.5,685.3438,2666.5,681.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2488.5" x2="2668.5" y1="681.3438" y2="681.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="2495.5" y="676.4873">INSERT</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="2679" y="661.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2683" y="679.4873">2</text><ellipse cx="2674" cy="714.9453" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="2657,711.6953,2667,715.6953,2657,719.6953,2661,715.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2488.5" x2="2663" y1="715.6953" y2="715.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="2495.5" y="710.8389">UPDATE</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="2679" y="696.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2683" y="713.8389">4</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="3318" x="3" y="746.8711"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3321" y1="746.8711" y2="746.8711"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3321" y1="749.8711" y2="749.8711"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="223" x="1550.5" y="735.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="1556.5" y="753.1904">[repo].[usp_Index_Settings] - end</text><ellipse cx="2886.5" cy="821" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2887" x2="2929" y1="808.75" y2="808.75"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2929" x2="2929" y1="808.75" y2="821.75"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2892" x2="2929" y1="821.75" y2="821.75"/><polygon fill="#A80036" points="2902,817.75,2892,821.75,2902,825.75,2898,821.75" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="2894" y="787.542">SET [IndexSemanticGroup] = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="2894" y="803.8936">TSource].[IndexSemanticGroup]</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="3093" y="787.7227"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="3097" y="805.2178">2</text><ellipse cx="1604.5" cy="900.4063" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="1621.5,897.1563,1611.5,901.1563,1621.5,905.1563,1617.5,901.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1619.5" x2="3089" y1="901.1563" y2="901.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="1622" y="847.2451">SET [is_index_primary_key] = 1, [is_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="1622" y="863.5967">index_unique] = 1 (propagate PK from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="1622" y="879.9482">[repo].[RepoObject] into [repo].[Index</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="1622" y="896.2998">_virtual])</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="3095" y="857.2773"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="3099" y="874.7725">0</text><ellipse cx="1604.5" cy="963.4609" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="1621.5,960.2109,1611.5,964.2109,1621.5,968.2109,1617.5,964.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1619.5" x2="3242.5" y1="964.2109" y2="964.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="1622" y="926.6514">SET [is_index_primary_key] = 1 (</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="1622" y="943.0029">WHERE rop.has_history = 1 and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="1622" y="959.3545">source-index is PK)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="3248" y="928.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="3252" y="946.0029">0</text><ellipse cx="2674" cy="1010.1641" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="2691,1006.9141,2681,1010.9141,2691,1014.9141,2687,1010.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2689" x2="3242.5" y1="1010.9141" y2="1010.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="2691.5" y="989.7061">SET [is_create_constraint] = 1 (</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="2691.5" y="1006.0576">WHERE persistence has_history = 1)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="3248" y="983.3867"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="3252" y="1000.8818">0</text><ellipse cx="1604.5" cy="1069.8672" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1605" x2="1647" y1="1057.6172" y2="1057.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1647" x2="1647" y1="1057.6172" y2="1070.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1610" x2="1647" y1="1070.6172" y2="1070.6172"/><polygon fill="#A80036" points="1620,1066.6172,1610,1070.6172,1620,1074.6172,1616,1070.6172" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="212" x="1612" y="1036.4092">SET [is_index_unique] = 1 (each PK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="1612" y="1052.7607">is also [is_index_unique])</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="1840" y="1036.5898"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1844" y="1054.085">0</text><ellipse cx="3089.5" cy="1149.2734" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="3072.5,1146.0234,3082.5,1150.0234,3072.5,1154.0234,3076.5,1150.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2310.5" x2="3078.5" y1="1150.0234" y2="1150.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="2317.5" y="1096.1123">SET [pk_index_guid] = [pk].[index_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="2317.5" y="1112.4639">guid] (WHERE [is_index_primary_key</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="2317.5" y="1128.8154">] = 1 and [RowNumber_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="2317.5" y="1145.167">PkPerParentObject] = 1)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="3095" y="1106.1445"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="3099" y="1123.6396">0</text><ellipse cx="1604.5" cy="1212.3281" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="1621.5,1209.0781,1611.5,1213.0781,1621.5,1217.0781,1617.5,1213.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1619.5" x2="3089" y1="1213.0781" y2="1213.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="1622" y="1175.5186">SET [is_index_primary_key] = 0 (</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="1622" y="1191.8701">where it is not a PK in [repo].[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="1622" y="1208.2217">RepoObject])</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="3095" y="1177.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="3099" y="1194.8701">0</text><ellipse cx="1604.5" cy="1259.0313" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="1621.5,1255.7813,1611.5,1259.7813,1621.5,1263.7813,1617.5,1259.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1619.5" x2="3089" y1="1259.7813" y2="1259.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="212" x="1622" y="1238.5732">SET [iv].[index_name] WHERE [iv].[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="1622" y="1254.9248">index_name] IS NULL</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="3095" y="1232.2539"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="3099" y="1249.749">2</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="3318" x="3" y="1288.957"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3321" y1="1288.957" y2="1288.957"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3321" y1="1291.957" y2="1291.957"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="241" x="1541.5" y="1277.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="223" x="1547.5" y="1295.2764">[repo].[usp_index_inheritance] - end</text><!--MD5=[3a9694b5faf4de15ef9013202bb96af7]
@startuml
skinparam maxmessagesize 220
== [repo].[usp_index_inheritance] - start ==


== [repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - start ==

?->x "[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]" : truncate persistence target
rnote right:0
"[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing]" -> "[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]" : insert all
rnote right:147

== [repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - end ==

"[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]" ->x "[repo].[Index_virtual]" : DELETE (referenced index is missing)
rnote right:2
"[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]" -> "[repo].[Index_virtual]" : INSERT (Index which should be inherited in referenced, but not yet referenced)
rnote right:2
"[repo].[IndexColumn_virtual_referenced_setpoint]" ->x "[repo].[IndexColumn_virtual]" : DELETE (where entries are missing in setpoint)
rnote right:0
"[repo].[IndexColumn_virtual_referenced_setpoint]" -> "[repo].[IndexColumn_virtual]" : INSERT missing
rnote right:4
"[repo].[Index_gross]" ->x "[repo].[Index_virtual]" : DELETE duplicates by pattern
rnote right:7
"[repo].[IndexColumn_virtual_referenced_setpoint]" ->O "[repo].[IndexColumn_virtual]" : SET [RepoObjectColumn_guid] = [setpoint].[referencing_RepoObjectColumn_guid], [is_descending_key] = [setpoint].[is_descending_key]
rnote right:4

== [repo].[usp_Index_Settings] - start ==

"[repo].[Index_IndexPattern]" ->x "[repo].[Index_Settings]" : DELETE
rnote right:9
"[repo].[Index_IndexPattern]" -> "[repo].[Index_Settings]" : INSERT
rnote right:2
"[repo].[Index_IndexPattern]" ->O "[repo].[Index_Settings]" : UPDATE
rnote right:4

== [repo].[usp_Index_Settings] - end ==

"[repo].[Index_IndexSemanticGroup]" ->O "[repo].[Index_IndexSemanticGroup]" : SET [IndexSemanticGroup] = [TSource].[IndexSemanticGroup]
rnote right:2
"[repo].[RepoObject]" ->O "[repo].[Index_virtual]" : SET [is_index_primary_key] = 1, [is_index_unique] = 1 (propagate PK from [repo].[RepoObject] into [repo].[Index_virtual])
rnote right:0
"[repo].[Index_union]" ->O "[repo].[Index_virtual]" : SET [is_index_primary_key] = 1 (WHERE rop.has_history = 1 and source-index is PK)
rnote right:0
"[repo].[Index_union]" ->O "[repo].[Index_Settings]" : SET [is_create_constraint] = 1 (WHERE persistence has_history = 1)
rnote right:0
"[repo].[Index_virtual]" ->O "[repo].[Index_virtual]" : SET [is_index_unique] = 1 (each PK is also [is_index_unique])
rnote right:0
"[repo].[Index_gross]" ->O "[repo].[RepoObject]" : SET [pk_index_guid] = [pk].[index_guid] (WHERE [is_index_primary_key] = 1 and [RowNumber_PkPerParentObject] = 1)
rnote right:0
"[repo].[RepoObject]" ->O "[repo].[Index_virtual]" : SET [is_index_primary_key] = 0 (where it is not a PK in [repo].[RepoObject])
rnote right:0
"[repo].[RepoObject]" ->O "[repo].[Index_virtual]" : SET [iv].[index_name] WHERE [iv].[index_name] IS NULL
rnote right:2

== [repo].[usp_index_inheritance] - end ==
@enduml

PlantUML version 1.2020.09(Sun May 10 12:51:06 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 12.0.1+12
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>