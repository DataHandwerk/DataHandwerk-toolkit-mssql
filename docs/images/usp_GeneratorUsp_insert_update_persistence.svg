<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="752.0833px" preserveAspectRatio="none" style="width:3272px;height:752px;" version="1.1" viewBox="0 0 3272 752" width="3272.9167px" zoomAndPan="magnify"><defs><filter height="300%" id="f1sv2v9gb7322i" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="4.166666666666667"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="8.333333333333334" dy="8.333333333333334" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 2.0833333333333335; stroke-dasharray: 5.0,5.0;" x1="208.3333" x2="208.3333" y1="82.5195" y2="666.8132"/><line style="stroke: #A80036; stroke-width: 2.0833333333333335; stroke-dasharray: 5.0,5.0;" x1="785.4167" x2="785.4167" y1="82.5195" y2="666.8132"/><line style="stroke: #A80036; stroke-width: 2.0833333333333335; stroke-dasharray: 5.0,5.0;" x1="1137.5" x2="1137.5" y1="82.5195" y2="666.8132"/><line style="stroke: #A80036; stroke-width: 2.0833333333333335; stroke-dasharray: 5.0,5.0;" x1="1602.0833" x2="1602.0833" y1="82.5195" y2="666.8132"/><line style="stroke: #A80036; stroke-width: 2.0833333333333335; stroke-dasharray: 5.0,5.0;" x1="2095.8333" x2="2095.8333" y1="82.5195" y2="666.8132"/><line style="stroke: #A80036; stroke-width: 2.0833333333333335; stroke-dasharray: 5.0,5.0;" x1="2827.0833" x2="2827.0833" y1="82.5195" y2="666.8132"/><rect fill="#FEFECE" filter="url(#f1sv2v9gb7322i)" height="65.8529" style="stroke: #A80036; stroke-width: 3.125;" width="377.0833" x="16.6667" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacingAndGlyphs" textLength="347.9167" x="31.25" y="51.1108">[repo].[RepoObject_gross]</text><rect fill="#FEFECE" filter="url(#f1sv2v9gb7322i)" height="65.8529" style="stroke: #A80036; stroke-width: 3.125;" width="377.0833" x="16.6667" y="664.7298"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacingAndGlyphs" textLength="347.9167" x="31.25" y="709.5907">[repo].[RepoObject_gross]</text><rect fill="#FEFECE" filter="url(#f1sv2v9gb7322i)" height="65.8529" style="stroke: #A80036; stroke-width: 3.125;" width="327.0833" x="618.75" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacingAndGlyphs" textLength="289.5833" x="641.6667" y="51.1108">[repo].[GeneratorUsp]</text><rect fill="#FEFECE" filter="url(#f1sv2v9gb7322i)" height="65.8529" style="stroke: #A80036; stroke-width: 3.125;" width="327.0833" x="618.75" y="664.7298"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacingAndGlyphs" textLength="289.5833" x="641.6667" y="709.5907">[repo].[GeneratorUsp]</text><rect fill="#FEFECE" filter="url(#f1sv2v9gb7322i)" height="65.8529" style="stroke: #A80036; stroke-width: 3.125;" width="318.75" x="975" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacingAndGlyphs" textLength="289.5833" x="989.5833" y="51.1108">[repo].[GeneratorUsp]</text><rect fill="#FEFECE" filter="url(#f1sv2v9gb7322i)" height="65.8529" style="stroke: #A80036; stroke-width: 3.125;" width="318.75" x="975" y="664.7298"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacingAndGlyphs" textLength="289.5833" x="989.5833" y="709.5907">[repo].[GeneratorUsp]</text><rect fill="#FEFECE" filter="url(#f1sv2v9gb7322i)" height="65.8529" style="stroke: #A80036; stroke-width: 3.125;" width="550" x="1322.9167" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacingAndGlyphs" textLength="520.8333" x="1337.5" y="51.1108">[repo].[GeneratorUspStep_Persistence]</text><rect fill="#FEFECE" filter="url(#f1sv2v9gb7322i)" height="65.8529" style="stroke: #A80036; stroke-width: 3.125;" width="550" x="1322.9167" y="664.7298"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacingAndGlyphs" textLength="520.8333" x="1337.5" y="709.5907">[repo].[GeneratorUspStep_Persistence]</text><rect fill="#FEFECE" filter="url(#f1sv2v9gb7322i)" height="65.8529" style="stroke: #A80036; stroke-width: 3.125;" width="379.1667" x="1902.0833" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacingAndGlyphs" textLength="350" x="1916.6667" y="51.1108">[repo].[GeneratorUspStep]</text><rect fill="#FEFECE" filter="url(#f1sv2v9gb7322i)" height="65.8529" style="stroke: #A80036; stroke-width: 3.125;" width="379.1667" x="1902.0833" y="664.7298"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacingAndGlyphs" textLength="350" x="1916.6667" y="709.5907">[repo].[GeneratorUspStep]</text><rect fill="#FEFECE" filter="url(#f1sv2v9gb7322i)" height="65.8529" style="stroke: #A80036; stroke-width: 3.125;" width="812.5" x="2416.6667" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacingAndGlyphs" textLength="783.3333" x="2431.25" y="51.1108">[repo].[GeneratorUspStep_Persistence_IsInactive_setpoint]</text><rect fill="#FEFECE" filter="url(#f1sv2v9gb7322i)" height="65.8529" style="stroke: #A80036; stroke-width: 3.125;" width="812.5" x="2416.6667" y="664.7298"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacingAndGlyphs" textLength="783.3333" x="2431.25" y="709.5907">[repo].[GeneratorUspStep_Persistence_IsInactive_setpoint]</text><rect fill="#EEEEEE" filter="url(#f1sv2v9gb7322i)" height="6.25" style="stroke: #EEEEEE; stroke-width: 2.0833333333333335;" width="3241.6667" x="6.25" y="147.4691"/><line style="stroke: #000000; stroke-width: 2.0833333333333335;" x1="6.25" x2="3247.9167" y1="147.4691" y2="147.4691"/><line style="stroke: #000000; stroke-width: 2.0833333333333335;" x1="6.25" x2="3247.9167" y1="153.7191" y2="153.7191"/><rect fill="#EEEEEE" filter="url(#f1sv2v9gb7322i)" height="50.7324" style="stroke: #000000; stroke-width: 4.166666666666667;" width="810.4167" x="1221.875" y="124.1862"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="772.9167" x="1234.375" y="160.6344">[repo].[usp_GeneratorUsp_insert_update_persistence] - start</text><line style="stroke: #A80036; stroke-width: 4.166666666666667;" x1="748.9583" x2="769.7917" y1="236.0677" y2="256.901"/><line style="stroke: #A80036; stroke-width: 4.166666666666667;" x1="748.9583" x2="769.7917" y1="256.901" y2="236.0677"/><line style="stroke: #A80036; stroke-width: 2.0833333333333335;" x1="209.375" x2="759.375" y1="246.4844" y2="246.4844"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="527.0833" x="223.9583" y="236.3668">delete old usp, which doesn't exist anymore</text><rect fill="#FBFB77" filter="url(#f1sv2v9gb7322i)" height="50" style="stroke: #A80036; stroke-width: 2.0833333333333335;" width="31.25" x="795.8333" y="206.1686"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="14.5833" x="804.1667" y="242.6168">0</text><polygon fill="#A80036" points="1113.5417,309.7168,1134.375,318.0501,1113.5417,326.3835,1121.875,318.0501" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><line style="stroke: #A80036; stroke-width: 2.0833333333333335;" x1="209.375" x2="1126.0417" y1="318.0501" y2="318.0501"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="175" x="223.9583" y="307.9325">insert new usp</text><rect fill="#FBFB77" filter="url(#f1sv2v9gb7322i)" height="50" style="stroke: #A80036; stroke-width: 2.0833333333333335;" width="31.25" x="1147.9167" y="277.7344"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="14.5833" x="1156.25" y="314.1825">0</text><ellipse cx="2094.7917" cy="388.0534" fill="none" rx="8.3333" ry="8.3333" style="stroke: #A80036; stroke-width: 3.125;"/><polygon fill="#A80036" points="2059.375,381.2826,2080.2083,389.6159,2059.375,397.9492,2067.7083,389.6159" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><line style="stroke: #A80036; stroke-width: 2.0833333333333335;" x1="1602.0833" x2="2071.875" y1="389.6159" y2="389.6159"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="275" x="1616.6667" y="379.4983">update steps, changed</text><rect fill="#FBFB77" filter="url(#f1sv2v9gb7322i)" height="50" style="stroke: #A80036; stroke-width: 2.0833333333333335;" width="31.25" x="2106.25" y="349.3001"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="14.5833" x="2114.5833" y="385.7483">0</text><polygon fill="#A80036" points="2070.8333,452.8483,2091.6667,461.1816,2070.8333,469.515,2079.1667,461.1816" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><line style="stroke: #A80036; stroke-width: 2.0833333333333335;" x1="1602.0833" x2="2083.3333" y1="461.1816" y2="461.1816"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="297.9167" x="1616.6667" y="451.064">insert steps, not existing</text><rect fill="#FBFB77" filter="url(#f1sv2v9gb7322i)" height="50" style="stroke: #A80036; stroke-width: 2.0833333333333335;" width="31.25" x="2106.25" y="420.8659"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="14.5833" x="2114.5833" y="457.314">0</text><ellipse cx="2094.7917" cy="531.1849" fill="none" rx="8.3333" ry="8.3333" style="stroke: #A80036; stroke-width: 3.125;"/><polygon fill="#A80036" points="2130.2083,524.4141,2109.375,532.7474,2130.2083,541.0807,2121.875,532.7474" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><line style="stroke: #A80036; stroke-width: 2.0833333333333335;" x1="2126.0417" x2="2825" y1="532.7474" y2="532.7474"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="681.25" x="2131.25" y="522.6298">update steps; SET [is_inactive] = [setpoint].[is_inactive]</text><rect fill="#FBFB77" filter="url(#f1sv2v9gb7322i)" height="50" style="stroke: #A80036; stroke-width: 2.0833333333333335;" width="31.25" x="2837.5" y="492.4316"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="14.5833" x="2845.8333" y="528.8798">0</text><rect fill="#EEEEEE" filter="url(#f1sv2v9gb7322i)" height="6.25" style="stroke: #EEEEEE; stroke-width: 2.0833333333333335;" width="3241.6667" x="6.25" y="597.6969"/><line style="stroke: #000000; stroke-width: 2.0833333333333335;" x1="6.25" x2="3247.9167" y1="597.6969" y2="597.6969"/><line style="stroke: #000000; stroke-width: 2.0833333333333335;" x1="6.25" x2="3247.9167" y1="603.9469" y2="603.9469"/><rect fill="#EEEEEE" filter="url(#f1sv2v9gb7322i)" height="50.7324" style="stroke: #000000; stroke-width: 4.166666666666667;" width="802.0833" x="1226.0417" y="574.4141"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="764.5833" x="1238.5417" y="610.8622">[repo].[usp_GeneratorUsp_insert_update_persistence] - end</text><!--MD5=[14c00174c00c0df5d0588437276bec8f]
@startuml
skinparam dpi 200


== [repo].[usp_GeneratorUsp_insert_update_persistence] - start ==

"[repo].[RepoObject_gross]" ->x " [repo].[GeneratorUsp]" : delete old usp, which doesn't exist anymore
rnote right:0
"[repo].[RepoObject_gross]" -> "[repo].[GeneratorUsp]" : insert new usp
rnote right:0
"[repo].[GeneratorUspStep_Persistence]" ->O "[repo].[GeneratorUspStep]" : update steps, changed
rnote right:0
"[repo].[GeneratorUspStep_Persistence]" -> "[repo].[GeneratorUspStep]" : insert steps, not existing
rnote right:0
"[repo].[GeneratorUspStep_Persistence_IsInactive_setpoint]" ->O "[repo].[GeneratorUspStep]" : update steps; SET [is_inactive] = [setpoint].[is_inactive]
rnote right:0

== [repo].[usp_GeneratorUsp_insert_update_persistence] - end ==

@enduml

PlantUML version 1.2020.09(Sun May 10 12:51:06 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 12.0.1+12
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>