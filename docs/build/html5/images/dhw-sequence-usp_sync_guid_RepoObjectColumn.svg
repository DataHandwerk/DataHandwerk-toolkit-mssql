<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1425px" preserveAspectRatio="none" style="width:1379px;height:1425px;" version="1.1" viewBox="0 0 1379 1425" width="1379px" zoomAndPan="magnify"><defs><filter height="300%" id="f4uuwr2n3sg98" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="92" x2="92" y1="39.6094" y2="1383.5938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="334.5" x2="334.5" y1="39.6094" y2="1383.5938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="568.5" x2="568.5" y1="39.6094" y2="1383.5938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="800.5" x2="800.5" y1="39.6094" y2="1383.5938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1028.5" x2="1028.5" y1="39.6094" y2="1383.5938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1262" x2="1262" y1="39.6094" y2="1383.5938"/><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="15" y="24.5332">[repo_sys].[SysColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="8" y="1382.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="15" y="1404.127">[repo_sys].[SysColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="187" x="239.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="246.5" y="24.5332">[repo].[RepoObjectColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="187" x="239.5" y="1382.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="246.5" y="1404.127">[repo].[RepoObjectColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="219" x="457.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="205" x="464.5" y="24.5332">[repo].[RepoObject_persistence]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="219" x="457.5" y="1382.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="205" x="464.5" y="1404.127">[repo].[RepoObject_persistence]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="216" x="690.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="202" x="697.5" y="24.5332">[repo_sys].[RepoObjectColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="216" x="690.5" y="1382.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="202" x="697.5" y="1404.127">[repo_sys].[RepoObjectColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="920.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="198" x="927.5" y="24.5332">[graph].[RepoObjectColumn_S]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="920.5" y="1382.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="198" x="927.5" y="1404.127">[graph].[RepoObjectColumn_S]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="1163" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="181" x="1170" y="24.5332">[graph].[RepoObjectColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="1163" y="1382.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="181" x="1170" y="1404.127">[graph].[RepoObjectColumn]</text><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1364" x="3" y="70.7852"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1367" y1="70.7852" y2="70.7852"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1367" y1="73.7852" y2="73.7852"/><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="327" x="521.5" y="59.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="309" x="527.5" y="77.1045">[repo].[usp_sync_guid_RepoObjectColumn] - start</text><ellipse cx="334.5" cy="148.2656" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="317.5,145.0156,327.5,149.0156,317.5,153.0156,321.5,149.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="92" x2="323.5" y1="149.0156" y2="149.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="99" y="111.4561">UPDATE repo_sys.SysColumn_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="99" y="127.8076">RepoObjectColumn_via_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="99" y="144.1592">RepoObjectColumn_guid</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="29" x="340" y="113.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="344" y="130.8076">150</text><ellipse cx="334.5" cy="224.3203" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="335" x2="377" y1="212.0703" y2="212.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="377" x2="377" y1="212.0703" y2="225.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="340" x2="377" y1="225.0703" y2="225.0703"/><polygon fill="#A80036" points="350,221.0703,340,225.0703,350,229.0703,346,225.0703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="342" y="174.5107">SET [SysObjectColumn_name] = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="342" y="190.8623">RepoObjectColumn_guid] (to avoid</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="342" y="207.2139">conflict in the next INSERT step)</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="559" y="182.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="563" y="200.3623">0</text><polygon fill="#A80036" points="323,300.4766,333,304.4766,323,308.4766,327,304.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="92" x2="329" y1="304.4766" y2="304.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="99" y="250.5654">[SysObject_RepoObjectColumn_guid]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="99" y="266.917">-&gt; [RepoObjectColumn_guid] ([</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="99" y="283.2686">RepoObjectColumn_guid] is stored in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="99" y="299.6201">extended properties)</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="340" y="260.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="344" y="278.0928">0</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="317" x2="327" y1="378.8828" y2="388.8828"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="317" x2="327" y1="388.8828" y2="378.8828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="92" x2="322" y1="383.8828" y2="383.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="99" y="329.9717">DELETE repo.RepoObjectColumn,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="99" y="346.3232">WHERE (RowNumberOverName &gt; 1);</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="99" y="362.6748">via [repo].[SysColumn_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="99" y="379.0264">RepoObjectColumn_via_name]</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="340" y="340.0039"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="344" y="357.499">0</text><polygon fill="#A80036" points="323,412.2344,333,416.2344,323,420.2344,327,416.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="92" x2="329" y1="416.2344" y2="416.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="99" y="411.3779">INSERT still missing Column</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="29" x="340" y="396.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="344" y="414.3779">144</text><ellipse cx="334.5" cy="509.8906" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="335" x2="377" y1="497.6406" y2="497.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="377" x2="377" y1="497.6406" y2="510.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="340" x2="377" y1="510.6406" y2="510.6406"/><polygon fill="#A80036" points="350,506.6406,340,510.6406,350,514.6406,346,510.6406" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="342" y="443.7295">SET [RepoObjectColumn_name] = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="342" y="460.0811">SysObjectColumn_name] WHERE (</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="342" y="476.4326">has_different_sys_names = 1) AND (</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="342" y="492.7842">ISNULL(is_repo_managed, 0) = 0)</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="29" x="569" y="460.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="573" y="477.7568">144</text><ellipse cx="334.5" cy="556.5938" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="317.5,553.3438,327.5,557.3438,317.5,561.3438,321.5,557.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="92" x2="323.5" y1="557.3438" y2="557.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="99" y="536.1357">other properties, where (ISNULL(is_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="99" y="552.4873">repo_managed, 0) = 0)</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="340" y="529.8164"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="344" y="547.3115">2</text><ellipse cx="334.5" cy="652.3516" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="317.5,649.1016,327.5,653.1016,317.5,657.1016,321.5,653.1016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="92" x2="323.5" y1="653.1016" y2="653.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="99" y="582.8389">persistence: update</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="99" y="599.1904">RepoObjectColumn_name and repo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="99" y="615.542">attributes from sys attributes of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="99" y="631.8936">persistence_source_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="99" y="648.2451">RepoObjectColumn_guid</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="340" y="601.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="344" y="618.542">0</text><ellipse cx="334.5" cy="761.1094" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="335" x2="377" y1="748.8594" y2="748.8594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="377" x2="377" y1="748.8594" y2="761.8594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="340" x2="377" y1="761.8594" y2="761.8594"/><polygon fill="#A80036" points="350,757.8594,340,761.8594,350,765.8594,346,761.8594" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="342" y="678.5967">persistence: [roc_p].[persistence_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="342" y="694.9482">source_RepoObjectColumn_guid] = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="342" y="711.2998">roc_s].[RepoObjectColumn_guid] (</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="342" y="727.6514">matching by column name via [repo].[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="342" y="744.0029">RepoObject_persistence])</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="573" y="703.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="577" y="720.7998">0</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="335" x2="377" y1="808.5625" y2="808.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="377" x2="377" y1="808.5625" y2="821.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336" x2="377" y1="821.5625" y2="821.5625"/><polygon fill="#A80036" points="346,817.5625,336,821.5625,346,825.5625,342,821.5625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="342" y="787.3545">persistence: add missing persistence</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="342" y="803.7061">columns existing in source</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="574" y="787.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="578" y="805.0303">0</text><polygon fill="#A80036" points="346,864.2656,336,868.2656,346,872.2656,342,868.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="340" x2="568" y1="868.2656" y2="868.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="352" y="847.0576">persistence: insert missing</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="352" y="863.4092">HistValidColumns</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="574" y="840.7383"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="578" y="858.2334">0</text><ellipse cx="334.5" cy="943.5703" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="335" x2="377" y1="931.3203" y2="931.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="377" x2="377" y1="931.3203" y2="944.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="340" x2="377" y1="944.3203" y2="944.3203"/><polygon fill="#A80036" points="350,940.3203,340,944.3203,350,948.3203,346,944.3203" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="342" y="893.7607">persistence: SET [persistence_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="342" y="910.1123">source_RepoObjectColumn_guid] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="342" y="926.4639">NULL (missing source column)</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="36" x="563" y="902.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="567" y="919.6123">2076</text><polygon fill="#A80036" points="103,1003.375,93,1007.375,103,1011.375,99,1007.375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="97" x2="334" y1="1007.375" y2="1007.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="109" y="969.8154">write RepoObjectColumn_guid into</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="109" y="986.167">extended properties of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="109" y="1002.5186">SysObjectColumn, Level2</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="8" style="stroke: #A80036; stroke-width: 1.0;" width="8" x="340" y="979.8477"/><ellipse cx="334.5" cy="1053.3281" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="317.5,1050.0781,327.5,1054.0781,317.5,1058.0781,321.5,1054.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="92" x2="323.5" y1="1054.0781" y2="1054.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="212" x="99" y="1032.8701">SET [is_SysObjectColumn_missing]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="19" x="99" y="1049.2217">= 1</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="340" y="1026.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="344" y="1044.0459">0</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="341" x2="351" y1="1112.1328" y2="1122.1328"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="341" x2="351" y1="1122.1328" y2="1112.1328"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="347" x2="799.5" y1="1117.1328" y2="1117.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="212" x="352" y="1079.5732">where is_SysObjectColumn_missing</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="352" y="1095.9248">= 1, but not in objects which are is_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="352" y="1112.2764">repo_managed</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="805" y="1081.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="809" y="1098.9248">0</text><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1364" x="3" y="1146.3086"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1367" y1="1146.3086" y2="1146.3086"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1367" y1="1149.3086" y2="1149.3086"/><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="328" x="521" y="1135.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="310" x="527" y="1152.6279">[graph].[usp_PERSIST_RepoObjectColumn] - start</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1244.5" x2="1254.5" y1="1203.1875" y2="1213.1875"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1244.5" x2="1254.5" y1="1213.1875" y2="1203.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1028.5" x2="1249.5" y1="1208.1875" y2="1208.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="1035.5" y="1186.9795">delete persistence target missing in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="1035.5" y="1203.3311">source</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="1267" y="1180.6602"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1271" y="1198.1553">0</text><ellipse cx="1262" cy="1239.7891" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="1245,1236.5391,1255,1240.5391,1245,1244.5391,1249,1240.5391" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1028.5" x2="1251" y1="1240.5391" y2="1240.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="1035.5" y="1235.6826">update changed</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="15" x="1267" y="1221.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1271" y="1238.6826">0</text><polygon fill="#A80036" points="1250.5,1270.8906,1260.5,1274.8906,1250.5,1278.8906,1254.5,1274.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1028.5" x2="1256.5" y1="1274.8906" y2="1274.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="1035.5" y="1270.0342">insert missing</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="24" style="stroke: #A80036; stroke-width: 1.0;" width="29" x="1267" y="1255.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="1271" y="1273.0342">144</text><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1364" x="3" y="1306.0664"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1367" y1="1306.0664" y2="1306.0664"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1367" y1="1309.0664" y2="1309.0664"/><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="324" x="523" y="1294.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="306" x="529" y="1312.3857">[graph].[usp_PERSIST_RepoObjectColumn] - end</text><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1364" x="3" y="1350.418"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1367" y1="1350.418" y2="1350.418"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1367" y1="1353.418" y2="1353.418"/><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="323" x="523.5" y="1339.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="305" x="529.5" y="1356.7373">[repo].[usp_sync_guid_RepoObjectColumn] - end</text><!--MD5=[aed5096ebc3b4396c3862f6c2dfe5e62]
@startuml
skinparam maxmessagesize 220

== [repo].[usp_sync_guid_RepoObjectColumn] - start ==

"[repo_sys].[SysColumn]" ->O "[repo].[RepoObjectColumn]" : UPDATE repo_sys.SysColumn_RepoObjectColumn_via_RepoObjectColumn_guid
rnote right:150
"[repo].[RepoObjectColumn]" ->O "[repo].[RepoObjectColumn]" : SET [SysObjectColumn_name] = [RepoObjectColumn_guid] (to avoid conflict in the next INSERT step)
rnote right:0
"[repo_sys].[SysColumn]" -> "[repo].[RepoObjectColumn]" : [SysObject_RepoObjectColumn_guid] -> [RepoObjectColumn_guid] ([RepoObjectColumn_guid] is stored in extended properties)
rnote right:0
"[repo_sys].[SysColumn]" ->x "[repo].[RepoObjectColumn]" : DELETE repo.RepoObjectColumn, WHERE (RowNumberOverName > 1); via [repo].[SysColumn_RepoObjectColumn_via_name]
rnote right:0
"[repo_sys].[SysColumn]" -> "[repo].[RepoObjectColumn]" : INSERT still missing Column
rnote right:144
"[repo].[RepoObjectColumn]" ->O "[repo].[RepoObjectColumn]" : SET [RepoObjectColumn_name] = [SysObjectColumn_name] WHERE (has_different_sys_names = 1) AND (ISNULL(is_repo_managed, 0) = 0)
rnote right:144
"[repo_sys].[SysColumn]" ->O "[repo].[RepoObjectColumn]" : other properties, where (ISNULL(is_repo_managed, 0) = 0)
rnote right:2
"[repo_sys].[SysColumn]" ->O "[repo].[RepoObjectColumn]" : persistence: update RepoObjectColumn_name and repo attributes from sys attributes of persistence_source_RepoObjectColumn_guid
rnote right:0
"[repo].[RepoObjectColumn]" ->O "[repo].[RepoObjectColumn]" : persistence: [roc_p].[persistence_source_RepoObjectColumn_guid] = [roc_s].[RepoObjectColumn_guid] (matching by column name via [repo].[RepoObject_persistence])
rnote right:0
"[repo].[RepoObjectColumn]" -> "[repo].[RepoObjectColumn]" : persistence: add missing persistence columns existing in source
rnote right:0
"[repo].[RepoObject_persistence]" -> "[repo].[RepoObjectColumn]" : persistence: insert missing HistValidColumns
rnote right:0
"[repo].[RepoObjectColumn]" ->O "[repo].[RepoObjectColumn]" : persistence: SET [persistence_source_RepoObjectColumn_guid] = NULL (missing source column)
rnote right:2076
"[repo].[RepoObjectColumn]" - -> "[repo_sys].[SysColumn]" : write RepoObjectColumn_guid into extended properties of SysObjectColumn, Level2
rnote right:
"[repo_sys].[SysColumn]" ->O "[repo].[RepoObjectColumn]" : SET [is_SysObjectColumn_missing] = 1
rnote right:0
"[repo_sys].[RepoObjectColumn]" ->x "[repo].[RepoObjectColumn]" : where is_SysObjectColumn_missing = 1, but not in objects which are is_repo_managed
rnote right:0

== [graph].[usp_PERSIST_RepoObjectColumn] - start ==

"[graph].[RepoObjectColumn_S]" ->x "[graph].[RepoObjectColumn]" : delete persistence target missing in source
rnote right:0
"[graph].[RepoObjectColumn_S]" ->O "[graph].[RepoObjectColumn]" : update changed
rnote right:0
"[graph].[RepoObjectColumn_S]" -> "[graph].[RepoObjectColumn]" : insert missing
rnote right:144

== [graph].[usp_PERSIST_RepoObjectColumn] - end ==


== [repo].[usp_sync_guid_RepoObjectColumn] - end ==
@enduml

PlantUML version 1.2020.09(Sun May 10 12:51:06 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 12.0.1+12
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>